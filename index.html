<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
     <title>OpenOakland | A Code for America Brigade</title>
    <meta name="description" content="Advancing Civic Innovation and Open Government">
    <link rel="shortcut icon" href="favicon.ico" />
    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="fitvids.js"></script>
    <script>
      $(document).ready(function(){
        $("#cfa").fitVids();
      });
    </script>
    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-35908939-6', 'auto');
  ga('send', 'pageview');

</script>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
  </head>

  <body data-spy="scroll" data-target=".navbar">

    <!-- NAVBAR
================================================== -->
      <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="http://openoakland.org">OpenOakland (#openoakland)</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li><a href="#">Home</a></li>
            <li><a href="#projects">Projects</a></li>
            <li><a href="#meetup">Events</a></li>
            <li><a href="#contact">Contact</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Involved <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="http://www.meetup.com/openoakland"><span class="glyphicon glyphicon-calendar"></span> At Meetups</a></li>
                <li><a href="https://plus.google.com/108779659075506992362/"><span class="glyphicon glyphicon-plus"></span> On Google+</a></li>
                <li><a href="http://webchat.freenode.net?channels=openoakland&uio=d4"><span class="glyphicon glyphicon-transfer"></span> In #IRC</a></li>
                <li class="divider"></li>
                <li><a href="https://github.com/openoakland"><span class="glyphicon glyphicon-tower"></span> Our Code</a></li>
                <!--
<li class="divider"></li>
list individual projects here <li><a href="#">Separated link</a></li>
-->
              </ul>
            </li>
          </ul>
         
       <!-- <ul class="nav navbar-nav navbar-right">
<li><a href="#">Link</a></li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
<ul class="dropdown-menu">
<li><a href="#">Action</a></li>
<li><a href="#">Another action</a></li>
<li><a href="#">Something else here</a></li>
<li class="divider"></li>
<li><a href="#">Separated link</a></li>
</ul>
</li>
</ul>
</div>-->
         <!-- /.navbar-collapse -->
      </nav>
    


  <!-- fork me banner, top right
================================================== -->

  <a class="forkme" href="https://github.com/openoakland/oaklandbrigade"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>



    <!-- Carousel - only using one at the moment
================================================== -->
    <div class="carousel slide">
      <div class="carousel-inner">
        <div class="item active">
          <!--<img id="carousel-image" src="images/sunrise-top.jpg" alt="Sunrise at the Virginia Beach Oceanfront" />-->
          <div class="container">
            <div class="jumbotron col-md-9">
              <h1>Welcome to OpenOakland!</h1>
              <p class="lead">
                We're the Oakland chapter of <a target="_blank" href="http://brigade.codeforamerica.org">Code for America Brigade</a>, a group of civic-minded folks in the Oakland area working to create open, engaged & agile government.</p>
              <br />
              <a class="btn btn-danger btn-lg" href="http://www.meetup.com/openoakland">Join Our Meetups</a>
            </div>
          </div>
        </div>
      </div>
    </div><!-- /.carousel -->

    
    
    <div class="container marketing clearleft">


    <!-- Marketing messaging and featurettes
================================================== -->
    <!-- Wrap the rest of the page in another container to center all the content. -->



      <!-- Three columns of text below the carousel -->
      <div class="row">
        
        <div class="col-sm-4">
          <img src="images/captain.png" alt="CfA Brigade Captain" />
          <h2>Attend Meetups</h2>
          <p>Casual weekly meetups. <strong>Hack Nights</strong> &amp; <strong>Yack Nights</strong>.</p>
          <a class="btn btn-primary btn-lg" href="#meetup">Details &raquo;</a>
        </div><!-- /.span4 -->

        <div class="col-sm-4">
          <img src="images/community.png" alt="Community" />
          <h2>Discuss Online</h2>
          <p>What we're doing now and what's next.</p>
          <a class="btn btn-primary btn-lg" href="#groups">Details &raquo;</a>
        </div><!-- /.span4 -->

        <div class="col-sm-4">
          <img src="images/cfa_logo_greyscale.png" alt="Code for America" />
          <h2>Get Inspired</h2>
          <p>Code for America is our Mothership.
          </p>
          <a class="btn btn-primary btn-lg" href="#cfa">Details &raquo;</a>
        </div><!-- /.span4 -->
      </div><!-- /.row -->


      <!-- START THE FEATURETTES -->

      <div id="projects">
        

      <hr class="featurette-divider">

      <div class="featurette">
        <img class="featurette-image pull-left" style="padding-bottom: 75px" src="images/noun_project_756_citizen.png" alt="Citizen" name="projects" />
        <h2 class="featurette-heading">Some Current Projects We Work On:</h2>
        <p class="lead">
          <ul class="lead">
            <li>
              (LIVE) AdoptaDrainOakland.com
              (<a href="http://adoptadrainoakland.com/">Site</a>)
            (<a href="https://github.com/openoakland/adopt-a-drain/">Code</a>)</li>
            <li>
              (LIVE) Oakland Answers
              (<a href="http://answers.oaklandnet.com/">Site</a>)
              (<a href="https://github.com/openoakland/oakland_answers">Code</a>)</li>      
             <li>
              (LIVE) Open Budget Oakland
              (<a href="http://openbudgetoakland.org">Demo</a>)
              (<a href="https://github.com/adstiles/openbudgetoakland/tree/gh-pages">Code</a>)</li>
            <li>
              (LIVE) Oakland Data
              (<a href="http://data.openoakland.org">Site</a>)
              </li>
               <li>
              (LIVE) Oakland Wiki
              (<a href="http://oakland.wikiorg">Site</a>)
              </li>
               <li>
              (LIVE) Early Oakland
              (<a href="http://earlyoakland.com">Site</a>)
              (<a href="https://github.com/openoakland/EarlyOakland">Code</a>)</li>
               <li>
              (beta) Oakland Beats
              (<a href="http://oaklandbeats.com">Site</a>)
              (<a href="https://github.com/openoakland/FindYourBeat">Code</a>)</li>
              <li>
              (LIVE) CityCamp Oakland
              (<a href="http://citycampoak.org">Site</a>)</li>
             <li>
              (LIVE) Open Disclosure
              (<a href="https://github.com/openoakland/opendisclosure">Code</a>)</li> 
            <li>
              (pre-beta) Crime in Oakland
              (<a href="#">Code</a>)</li> 
              <li>
              (pre-beta) OpenCode
              (<a href="https://github.com/openoakland/openlawdc.github.com">Code</a>)</li>   
            <li>
              (pre-beta) Councilmatic Oakland
              </li>
               <li>
              (pre-beta) 2014 Mayors Forum on Open Gov, Tech & Engagement
              </li>
              <li>
                (LIVE) Soft-Story Buildings
                (<a href="https://github.com/openoakland/oakland-soft-story-map">Code</a>)
              </li>
          </ul>
        </p>
      </div>
    </div>

    <div id="cfa">
      
      <hr class="featurette-divider">

      <div class="featurette">
        <a href="http://brigade.codeforamerica.org/">
          <img name="cfa" class="featurette-image pull-right" src="images/cfa_brigade_logo.png" alt="Code for America Brigade" />
        </a>
        <h2 class="featurette-heading">Want To Help Oaktown?</h2>
        <p class="lead">We're the Oakland <a href="http://brigade.codeforamerica.org/">Code for America Brigade</a>,
         a group of civic-minded geeks who volunteer our talents to projects that improve how our local governments and community organizations use the web.
          </p>
          
            <p class="lead">Brigade is about <strong>action</strong> &amp; you're here because you are someone who takes action.
            <a href="http://brigade.codeforamerica.org/pages/activities">See what kind of things brigades do</a>, and stop by a Meetup to see if Brigade is right for you.</a></p>
          <h3>Still Not Sure? Watch This:</h3>
          <iframe width="1280" height="720" src="//www.youtube.com/embed/n4EhJ898r-k" frameborder="0" allowfullscreen></iframe>
      </div>
    </div>

    <div id="meetup">
      
      <hr class="featurette-divider">

      <div class="featurette">
        <a href="http://www.meetup.com/openoakland">
          <img name="meetup" class="featurette-image pull-left" src="images/meetup.jpg" alt="Meetup.com" />
          </a>
          <!--<iframe width="225" height="570" src="http://meetu.ps/24X1wF" frameborder="0"></iframe>-->
        <h2 class="featurette-heading">We Meet Often. <span class="muted">Hack With Us.</span></h2>
        
  
        <p class="lead">We have four or five meetups per month. Three are <strong>Hack Nights</strong> where we help build civic apps and open data. One per month is a <strong>Yack Night</strong> where we get to know each other and our local govs. View our <a href="http://www.meetup.com/openoakland">
          Meetup.com group</a> for upcoming sessions. We meet every
          Monday where we hack (develop) our projects,
          or brainstorm on current issues and activities around the Oakland area. It's a lot of fun, with great people and (usually) food &amp; drink.</p>
      </div>
    </div>
      
      
    <div id="groups">
      <hr class="featurette-divider">

      <div class="featurette">
        <a href="https://groups.google.com/forum/#!forum/openoakland">
          <img name="groups" class="featurette-image pull-right" src="images/google_groups.png" alt="Google Groups" />
        </a>
        <h2 class="featurette-heading">We Discuss Things Online. <span class="muted">Join &amp; Introduce Yourself.</span></h2>
        <p class="lead">
          Can't make it to a meetup? No problem. We collaborate on projects, ask for help, and post wins
          to our <a href="https://plus.google.com/108779659075506992362">Google+ Group</a>. We welcome anyone to sign-up... you might just see something you're interested in helping with. We're also in IRC chat on freenode.net channel <a href="http://webchat.freenode.net?channels=openoakland&uio=d4">#openoakland</a>.</p>
      </div>
    </div>
    
    <div id="contact">
      <hr class="featurette-divider">

      <div class="featurette">
        <img name="contact" class="featurette-image pull-right" src="">
        <h2 class="featurette-heading">Want Even More Info? <span class="muted">Get in touch.</span></h2>
        <p class="lead">Our Brigade Captains are Spike (Find him on <a href="http://linkedin.com/in/stevespiker">Linkedin</a> and <a href="https://twitter.com/spjika">@spjika</a> on Twitter) and Eddie Tejeda (Find him <a href="https://twitter.com/eddietejeda">@eddietejeda</a> on Twitter).</p>
      </div>
    </div>

      <hr class="featurette-divider">

      <!-- /END THE FEATURETTES -->


      <!-- FOOTER -->
      <footer>
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p>Maintained by OpenOakland. Forked from <a href="http://codeforkc.org">Code for Kansas City.</a> Some Icons Provided by <a href="http://thenounproject.com">The Noun Project</a>.</p>
      </footer>

    </div><!-- /.container -->
  </body>
<script src="bootstrap-tooltip.js"></script>
<script>         

  $(document).ready(function(){

    //GLOBAL VARIABLES HERE//
    var apiKey = "8s306tqcdaev9hn58ap9uo7ngd",
        meetupGroupUrl = "OpenOakland";

    var memberList = new Array();

    //get the next event
    $.getJSON("http://api.meetup.com/2/events?status=upcoming&order=time&limited_events=False&group_urlname=" + meetupGroupUrl+ "&desc=false&offset=0&format=json&page=20&fields=&sig_id=7997287&sig=1e967902e7837fbd5625d4397b299dc608a6943d&callback=?",function(upcomingData) {

      eventTime = upcomingData.results[0].time - 900000; //checkins display 15 minutes ahead of time.
      currentTime = new Date().getTime();
      //currentTime = eventTime + 1 //testing value
      if (upcomingData.results[0].duration) {
        eventEndTime = eventTime + upcomingData.results[0].duration; //if a specific end time is set for the given event, it is used.
      } else {
        eventEndTime = eventTime + 60000*60*3; //else, the event is assumed to be three hours long.
      }

      eventId = upcomingData.results[0].id;
      //eventId = "113850802";

      if (currentTime >= eventTime && currentTime < eventEndTime) {
 
        var memberbox = "<div class='memberbox'></div>";
        $(".carousel-caption").append(memberbox);
        $(".memberbox").hide();

      function showThumbnails() {
        
        //get the checkin data for the next event
        $.getJSON("https://api.meetup.com/2/checkins?key="+apiKey+"&sign=true&event_id="+eventId+"&page=20&callback=?",function(checkinData) {

            howMany = checkinData.meta.count;

            if (howMany === 0) {

              $(".memberbox").html("<h2>Nobody has checked in yet.</h2>");
              $(".memberbox").slideDown();
 
            } else if (howMany >= 1) {

              $.each(checkinData.results, function(i,checkinData) {

                $.getJSON("https://api.meetup.com/2/member/"+checkinData.member_id+"?key="+apiKey+"&&sign=true&page=20&callback=?", function(memberData) {
                    
                    var memberName = memberData.name,
                        toolTips = "<a class='tip' href='#' data-toggle='tooltip' data-placement='bottom' data-original-title='"+memberData.name+"'>",
                        memberPix = memberData.photo.thumb_link,
                        memberThumb = toolTips +"<img class='pix-thumb' src='"+memberPix+"' alt='"+ memberData.name +"'/></a>";
                    
                    if (memberList.indexOf(memberName) === -1) {
                        
                        memberList.push(memberName);
                        $(memberThumb).appendTo($(".memberbox"));
                        console.log(memberList);

                    } else {
                      //do nothing
                    }
                                      
                    $('.tip').tooltip();

                });

              });

              //event information
              $.getJSON("https://api.meetup.com/2/events?key="+apiKey+"&sign=true&event_id="+eventId+"&page=20&callback=?", function(eventData) {

                  var eventName = eventData.results[0].name,
                    eventLocation = eventData.results[0].venue.name,
                    eventStAddress = eventData.results[0].venue.address_1,
                    eventCity = eventData.results[0].venue.city,
                    eventState = eventData.results[0].venue.state,
                    eventURL = eventData.results[0].event_url;
                    
                $(window).load(function(){
                  var memberCount = memberList.length,
                      eventCheckin = "<p id='checkins'>"+memberCount+" Civic Hackers are checked in at <a href='http://maps.google.com/maps?q="+eventStAddress+" "+eventCity+" "+eventState+"'>"+eventLocation+"</a> for <a href='"+eventURL+"'>"+eventName+"</a>.</p>";
                  $(eventCheckin).appendTo($(".memberbox"));
                  $(".memberbox").slideDown();

                });

              });
              
            }

          });
      
      }

      showThumbnails();

      console.log(memberList);
      console.log(memberList.length);

      } else {
        console.log("Nothing to see here.");
      }

      });

    });

</script>
</html>
